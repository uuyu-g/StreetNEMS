{"id":"../node_modules/nem-sdk/build/com/websockets/chain.js","dependencies":[{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/chain.js.map","includedInParent":true,"mtime":1555063520638},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/package.json","includedInParent":true,"mtime":1555063526179},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/package.json","includedInParent":true,"mtime":1555063516168},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/.babelrc","includedInParent":true,"mtime":1530213456000},{"name":"../../external/sockjs-0.3.4","loc":{"line":3,"column":22},"parent":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/chain.js","resolved":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/external/sockjs-0.3.4.js"},{"name":"sockjs-client","loc":{"line":5,"column":28},"parent":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/chain.js","resolved":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/sockjs-client/lib/entry.js"}],"generated":{"js":"'use strict';\n\nvar _sockjs = require('../../external/sockjs-0.3.4');\n\nvar _sockjsClient = require('sockjs-client');\n\nvar _sockjsClient2 = _interopRequireDefault(_sockjsClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Check if socket is open\n *\n * @param {object} connector - A connector object\n *\n * @return {boolean} - True if open, false otherwise\n */\nvar checkReadyState = function checkReadyState(connector) {\n  var self = connector;\n  if (_sockjs.SockJS ? self.socket.readyState !== _sockjs.SockJS.OPEN : self.socket.readyState !== _sockjsClient2.default.OPEN) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * Subscribe to the new blocks channel \n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nvar subscribeNewBlocks = function subscribeNewBlocks(connector, callback) {\n  var self = connector;\n  if (!checkReadyState(connector)) {\n    return false;\n  }\n  self.stompClient.subscribe('/blocks', function (data) {\n    callback(JSON.parse(data.body));\n  });\n};\n\n/**\n * Subscribe to the new height channel\n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nvar subscribeNewHeight = function subscribeNewHeight(connector, callback) {\n  var self = connector;\n  if (!checkReadyState(connector)) {\n    return false;\n  }\n  self.stompClient.subscribe('/blocks/new', function (data) {\n    callback(JSON.parse(data.body));\n  });\n};\n\nmodule.exports = {\n  requests: {},\n  subscribe: {\n    height: subscribeNewHeight,\n    blocks: subscribeNewBlocks\n  }\n};\n"},"sourceMaps":{"js":{"version":3,"sources":["../../../src/com/websockets/chain.js"],"names":["checkReadyState","connector","self","SockJSBrowser","socket","readyState","OPEN","SockJSNode","subscribeNewBlocks","callback","stompClient","subscribe","data","JSON","parse","body","subscribeNewHeight","module","exports","requests","height","blocks"],"mappings":";;AAAA;;AACA;;;;;;AAEA;;;;;;;AAOA,IAAIA,kBAAkB,SAAlBA,eAAkB,CAASC,SAAT,EAAoB;AACzC,MAAIC,OAAOD,SAAX;AACA,MAAIE,iBAAgBD,KAAKE,MAAL,CAAYC,UAAZ,KAA2BF,eAAcG,IAAzD,GAAgEJ,KAAKE,MAAL,CAAYC,UAAZ,KAA2BE,uBAAWD,IAA1G,EAAgH;AACzG,WAAO,KAAP;AACH;AACD,SAAO,IAAP;AACH,CAND;;AAQA;;;;;;;;AAQA,IAAIE,qBAAqB,SAArBA,kBAAqB,CAASP,SAAT,EAAoBQ,QAApB,EAA8B;AACtD,MAAIP,OAAOD,SAAX;AACA,MAAI,CAACD,gBAAgBC,SAAhB,CAAL,EAAiC;AAC1B,WAAO,KAAP;AACH;AACJC,OAAKQ,WAAL,CAAiBC,SAAjB,CAA2B,SAA3B,EAAsC,UAASC,IAAT,EAAe;AAC9CH,aAASI,KAAKC,KAAL,CAAWF,KAAKG,IAAhB,CAAT;AACH,GAFJ;AAGA,CARD;;AAUA;;;;;;;;AAQA,IAAIC,qBAAqB,SAArBA,kBAAqB,CAASf,SAAT,EAAoBQ,QAApB,EAA8B;AACtD,MAAIP,OAAOD,SAAX;AACA,MAAI,CAACD,gBAAgBC,SAAhB,CAAL,EAAiC;AAC1B,WAAO,KAAP;AACH;AACJC,OAAKQ,WAAL,CAAiBC,SAAjB,CAA2B,aAA3B,EAA0C,UAASC,IAAT,EAAe;AAClDH,aAASI,KAAKC,KAAL,CAAWF,KAAKG,IAAhB,CAAT;AACN,GAFD;AAGA,CARD;;AAUAE,OAAOC,OAAP,GAAiB;AAChBC,YAAU,EADM;AAIhBR,aAAW;AACVS,YAAQJ,kBADE;AAEVK,YAAQb;AAFE;AAJK,CAAjB","file":"chain.js","sourcesContent":["import { SockJS as SockJSBrowser } from '../../external/sockjs-0.3.4';\nimport SockJSNode from 'sockjs-client';\n\n/**\n * Check if socket is open\n *\n * @param {object} connector - A connector object\n *\n * @return {boolean} - True if open, false otherwise\n */\nlet checkReadyState = function(connector) {\n\tvar self = connector;\n\tif (SockJSBrowser ? self.socket.readyState !== SockJSBrowser.OPEN : self.socket.readyState !== SockJSNode.OPEN) {\n        return false;\n    } \n    return true;\n}\n\n/**\n * Subscribe to the new blocks channel \n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nlet subscribeNewBlocks = function(connector, callback) {\n\tvar self = connector;\n\tif (!checkReadyState(connector)) {\n        return false;\n    }\n\tself.stompClient.subscribe('/blocks', function(data) {\n        callback(JSON.parse(data.body));\n    });\n}\n\n/**\n * Subscribe to the new height channel\n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nlet subscribeNewHeight = function(connector, callback) {\n\tvar self = connector;\n\tif (!checkReadyState(connector)) {\n        return false;\n    }\n\tself.stompClient.subscribe('/blocks/new', function(data) {\n        callback(JSON.parse(data.body));\n\t});\n}\n\nmodule.exports = {\n\trequests: {\n\t\t\n\t},\n\tsubscribe: {\n\t\theight: subscribeNewHeight,\n\t\tblocks: subscribeNewBlocks\n\t}\t\n}"]}},"error":null,"hash":"88a33e6916a15580cae175c38310cd59","cacheData":{"env":{}}}