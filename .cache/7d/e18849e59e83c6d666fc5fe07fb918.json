{"id":"../node_modules/nem-sdk/build/com/websockets/errors.js","dependencies":[{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/errors.js.map","includedInParent":true,"mtime":1555076380621},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/package.json","includedInParent":true,"mtime":1555076384616},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/package.json","includedInParent":true,"mtime":1555076377737},{"name":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/.babelrc","includedInParent":true,"mtime":1530213456000},{"name":"../../external/sockjs-0.3.4","loc":{"line":3,"column":22},"parent":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/errors.js","resolved":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/external/sockjs-0.3.4.js"},{"name":"sockjs-client","loc":{"line":5,"column":28},"parent":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/nem-sdk/build/com/websockets/errors.js","resolved":"/Users/yugo/Dropbox/Programing/NEM/streetnems/node_modules/sockjs-client/lib/entry.js"}],"generated":{"js":"'use strict';\n\nvar _sockjs = require('../../external/sockjs-0.3.4');\n\nvar _sockjsClient = require('sockjs-client');\n\nvar _sockjsClient2 = _interopRequireDefault(_sockjsClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Check if socket is open\n *\n * @param {object} connector - A connector object\n *\n * @return {boolean} - True if open, false otherwise\n */\nvar checkReadyState = function checkReadyState(connector) {\n  var self = connector;\n  if (_sockjs.SockJS ? self.socket.readyState !== _sockjs.SockJS.OPEN : self.socket.readyState !== _sockjsClient2.default.OPEN) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * Subscribe to errors channel\n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nvar subscribe = function subscribe(connector, callback) {\n  var self = connector;\n  if (!checkReadyState(connector)) {\n    return false;\n  }\n  self.stompClient.subscribe('/errors', function (data) {\n    callback(JSON.parse(data.body));\n  });\n};\n\nmodule.exports = {\n  subscribe: subscribe\n};\n"},"sourceMaps":{"js":{"version":3,"sources":["../../../src/com/websockets/errors.js"],"names":["checkReadyState","connector","self","SockJSBrowser","socket","readyState","OPEN","SockJSNode","subscribe","callback","stompClient","data","JSON","parse","body","module","exports"],"mappings":";;AAAA;;AACA;;;;;;AAEA;;;;;;;AAOA,IAAIA,kBAAkB,SAAlBA,eAAkB,CAASC,SAAT,EAAoB;AACzC,MAAIC,OAAOD,SAAX;AACA,MAAIE,iBAAgBD,KAAKE,MAAL,CAAYC,UAAZ,KAA2BF,eAAcG,IAAzD,GAAgEJ,KAAKE,MAAL,CAAYC,UAAZ,KAA2BE,uBAAWD,IAA1G,EAAgH;AACzG,WAAO,KAAP;AACH;AACD,SAAO,IAAP;AACH,CAND;;AAQA;;;;;;;;AAQA,IAAIE,YAAY,SAAZA,SAAY,CAASP,SAAT,EAAoBQ,QAApB,EAA8B;AAC7C,MAAIP,OAAOD,SAAX;AACA,MAAI,CAACD,gBAAgBC,SAAhB,CAAL,EAAiC;AAC1B,WAAO,KAAP;AACH;AACJC,OAAKQ,WAAL,CAAiBF,SAAjB,CAA2B,SAA3B,EAAsC,UAASG,IAAT,EAAe;AAC9CF,aAASG,KAAKC,KAAL,CAAWF,KAAKG,IAAhB,CAAT;AACH,GAFJ;AAGA,CARD;;AAUAC,OAAOC,OAAP,GAAiB;AAChBR,aAAWA;AADK,CAAjB","file":"errors.js","sourcesContent":["import { SockJS as SockJSBrowser } from '../../external/sockjs-0.3.4';\nimport SockJSNode from 'sockjs-client';\n\n/**\n * Check if socket is open\n *\n * @param {object} connector - A connector object\n *\n * @return {boolean} - True if open, false otherwise\n */\nlet checkReadyState = function(connector) {\n\tvar self = connector;\n\tif (SockJSBrowser ? self.socket.readyState !== SockJSBrowser.OPEN : self.socket.readyState !== SockJSNode.OPEN) {\n        return false;\n    } \n    return true;\n}\n\n/**\n * Subscribe to errors channel\n *\n * @param {object} connector - A connector object\n * @param {function} callback - A callback function where data will be received\n *\n * @return the received data in the callback\n */\nlet subscribe = function(connector, callback) {\n\tvar self = connector;\n\tif (!checkReadyState(connector)) {\n        return false;\n    }\n\tself.stompClient.subscribe('/errors', function(data) {\n        callback(JSON.parse(data.body));\n    });\n}\n\nmodule.exports = {\n\tsubscribe: subscribe\n}"]}},"error":null,"hash":"8630b8625e43ebfa4dff107a16d94669","cacheData":{"env":{}}}